<div class="fooddinks-card shadow-lg rounded-4 p-4 animate-fade-in">

    <!-- Header: n√∫t quay l·∫°i + title -->
    <div class="food-drinks-header mb-3 d-flex align-items-center">
        <div class="back-button">
            <%= link_to "Quay l·∫°i", admin_dashboard_path, class: "btn btn-outline-secondary btn-anim" %>
        </div>
        <h1 class="flex-grow-1 text-center mb-0">Qu·∫£n l√Ω M√≥n ƒÉn & Th·ª©c u·ªëng</h1>
    </div>

    <!-- N√∫t category -->
    <div class="category-buttons mb-3">
        <%= link_to "T·∫•t c·∫£", admin_food_drinks_path, class: "btn btn-secondary btn-cat-anim me-2 mb-2" %>
        <% Category.all.each do |category| %>
        <%= link_to category.name, admin_food_drinks_path(category_id: category.id), class: "btn btn-primary btn-cat-anim me-2 mb-2" %>
        <% end %>
    </div>

    <!-- Toolbar ch√≠nh -->
    <div class="toolbar-wrapper mb-3 d-flex justify-content-between flex-wrap align-items-center gap-2">
        <!-- Left actions -->
        <div class="left-actions d-flex gap-2 flex-wrap">
            <button type="button" id="select_all_btn" class="btn btn-warning btn-anim">Ch·ªçn t·∫•t c·∫£ m√≥n ƒÉn</button>
            <%= link_to "Th√™m m·ªõi", new_admin_food_drink_path, class: "btn btn-success btn-anim" %>
            <%= link_to "L√†m m·ªõi", admin_food_drinks_path, class: "btn btn-outline-secondary btn-anim" %>
        </div>

        <!-- Filter form -->
        <div class="filter-form">
            <%= form_with url: admin_food_drinks_path, method: :get, local: false, data: { turbo_frame: "food_drinks_list" }, class: "d-flex align-items-center gap-2" do |f| %>
            <%= f.text_field :query, value: params[:query], placeholder: "üîç T√¨m ki·∫øm...", class: "form-control search-input" %>
            <%= f.select :sort, options_for_select([
            ['M·ªõi nh·∫•t', 'newest'],
            ['T√™n A ‚Üí Z', 'name_asc'],
            ['T√™n Z ‚Üí A', 'name_desc'],
            ['Gi√° tƒÉng d·∫ßn', 'price_asc'],
            ['Gi√° gi·∫£m d·∫ßn', 'price_desc']
          ], params[:sort]), {}, class: "form-select" %>
            <%= f.submit "L·ªçc", class: "btn btn-primary btn-anim" %>
            <% end %>
        </div>
    </div>

    <!-- Turbo Frame ch·ª©a b·∫£ng m√≥n ƒÉn -->
    <%= turbo_frame_tag "food_drinks_list" do %>
    <%= form_with url: bulk_delete_admin_food_drinks_path, method: :delete, local: false, data: { turbo_confirm: "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a c√°c m√≥n ƒë√£ ch·ªçn?" } do %>

    <div class="food-drinks-table table-responsive mb-3">
        <%= render partial: "list", locals: { food_drinks: @food_drinks } %>
    </div>

    <div class="mb-3">
        <%= submit_tag "X√≥a c√°c m√≥n ƒë√£ ch·ªçn", class: "btn btn-danger btn-anim" %>
    </div>

    <% end %>

    <% if @food_drinks.empty? %>
    <p class="text-center text-muted mt-3">Kh√¥ng t√¨m th·∫•y m√≥n ƒÉn/th·ª©c u·ªëng n√†o ph√π h·ª£p.</p>
    <% end %>
    <% end %>
</div>

<style>
    /* Card + fade-in */
    .fooddinks-card {
        border-radius: 18px;
        border: 1px solid #e0e0e0;
        background-color: #fff;
        padding: 1.5rem;
        transition: 0.3s ease;
    }

    .fooddinks-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
    }

    .animate-fade-in {
        animation: fadeIn 0.6s ease forwards;
        opacity: 0;
    }

    /* Category button hover */
    .btn-cat-anim {
        transition: 0.25s ease;
    }

    .btn-cat-anim:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* N√∫t hover */
    .btn-anim {
        transition: 0.25s ease;
    }

    .btn-anim:hover:not([disabled]) {
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
    }

    /* Table row hover */
    .food-drinks-table tbody tr {
        transition: 0.25s ease, background-color 0.25s ease;
    }

    .food-drinks-table tbody tr:hover {
        background-color: #f1f6ff !important;
        transform: translateX(2px);
    }

    /* Input focus */
    .search-input:focus {
        box-shadow: 0 0 6px rgba(0, 123, 255, 0.5);
        border-color: #80bdff;
        outline: none;
    }

    /* Animations keyframes */
    @keyframes fadeIn {
        from {
            opacity: 0;
        }

        to {
            opacity: 1;
        }
    }
</style>