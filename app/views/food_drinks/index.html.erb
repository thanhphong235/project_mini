<!-- Wrapper cố định chiều cao cho scroll -->
<div class="container mt-3">

    <!-- Header + Filter cố định -->
    <div class="position-sticky" style="top: 0; z-index: 1020; background-color: white;">
        <h1 class="p-3 mb-0 border-bottom">Danh sách Món ăn & Thức uống</h1>

        <!-- Filter / Phân loại -->
        <div class="d-flex flex-wrap gap-2 p-2 border-bottom">
            <%= link_to "Tất cả", food_drinks_path, class: "btn btn-sm btn-outline-dark" %>
            <% Category.all.each do |cat| %>
            <%= link_to cat.name, food_drinks_path(category_id: cat.id), class: "btn btn-sm btn-outline-primary" %>
            <% end %>
        </div>
    </div>

    <!-- Danh sách món ăn -->
    <div class="row mt-3">
        <% @food_drinks.each do |fd| %>
        <div class="col-md-4 mb-3">
            <div class="card shadow-sm h-100">
                <% if fd.image.attached? %>
                <%= image_tag fd.image, class: "card-img-top" %>
                <% else %>

                <% end %>
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title"><%= link_to fd.name, food_drink_path(fd) %></h5>
                    <p class="card-text"><strong>Giá:</strong> <%= number_to_currency(fd.price, unit: "₫") %></p>
                    <p class="card-text"><strong>Danh mục:</strong> <%= fd.category&.name || "Không có" %></p>
                    <div class="mt-auto d-flex gap-1">
                        <%= link_to "Xem chi tiết", food_drink_path(fd), class: "btn btn-sm btn-outline-primary" %>
                        <%= button_to "Thêm vào giỏ",
                            cart_items_path,
                            method: :post,
                            params: { food_drink_id: fd.id },
                            form: { data: { turbo_stream: true, turbo_frame: "_top" } },
                            class: "btn btn-sm btn-outline-success" %>
                    </div>
                </div>
            </div>
        </div>
        <% end %>
    </div>

</div>