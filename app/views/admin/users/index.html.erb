<h1><%= link_to "Quay lại", admin_dashboard_path, class: "btn btn-secondary" %> Quản lý Người dùng</h1>

<table class="table table-striped table-hover">
    <thead class="table-dark">
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Created At</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        <% @users.each_with_index do |user, index| %>
        <tr>
            <td><%= index + 1 %></td>
            <td>
                <% if user.admin? %>
                <strong>Admin</strong>
                <% else %>
                <%= user.name.present? ? user.name : "User #{index}" %>
                <% end %>
            </td>
            <td><%= user.email %></td>
            <td><%= user.role %></td>
            <td><%= user.created_at.strftime("%d/%m/%Y") %></td>
            <td>
                <%= link_to "Xem", admin_user_path(user), class: "btn btn-sm btn-outline-primary me-1" %>
                <%= link_to "Xóa", admin_user_path(user), method: :delete,
                    data: { turbo_confirm: "Bạn có chắc chắn muốn xóa người dùng này?" },
                    class: "btn btn-sm btn-outline-danger" %>
            </td>
        </tr>
        <% end %>
    </tbody>

</table>