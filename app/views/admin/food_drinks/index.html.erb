<div class="fooddinks-card shadow-lg rounded-4 p-4 animate-fade-in dark-panel">

    <!-- Header -->
    <div class="food-drinks-header mb-3 d-flex align-items-center">

        <h1 class="flex-grow-1 text-center mb-0 title-text">Qu·∫£n l√Ω M√≥n ƒÉn & Th·ª©c u·ªëng</h1>

        <div style="width:120px;"></div>
    </div>

    <!-- Category buttons -->
    <div class="category-buttons mb-3 d-flex flex-wrap gap-2">
        <%= link_to "T·∫•t c·∫£", admin_food_drinks_path, class: "btn btn-dark btn-cat" %>

        <% Category.all.each do |category| %>
        <%= link_to category.name,
                admin_food_drinks_path(category_id: category.id),
                class: "btn btn-outline-primary btn-cat" %>
        <% end %>
    </div>

    <!-- Toolbar -->
    <div class="toolbar-wrapper mb-3 d-flex justify-content-between flex-wrap align-items-center gap-2">

        <!-- Left group -->
        <div class="d-flex flex-wrap gap-2">
            <button type="button" id="select_all_btn" class="btn btn-warning btn-anim">Ch·ªçn t·∫•t c·∫£ m√≥n</button>

            <%= link_to "Th√™m m·ªõi", new_admin_food_drink_path, class: "btn btn-success btn-anim" %>

            <%= link_to "L√†m m·ªõi", admin_food_drinks_path, class: "btn btn-outline-light btn-anim" %>
        </div>

        <!-- Filter -->
        <div class="filter-form">
            <%= form_with url: admin_food_drinks_path, method: :get, local: false,
                          data: { turbo_frame: "food_drinks_list" },
                          class: "d-flex align-items-center gap-2" do |f| %>

            <%= f.text_field :query,
                                 value: params[:query],
                                 placeholder: "üîç T√¨m ki·∫øm...",
                                 class: "form-control search-input dark-input" %>

            <%= f.select :sort,
                    options_for_select([
                        ['M·ªõi nh·∫•t', 'newest'],
                        ['T√™n A ‚Üí Z', 'name_asc'],
                        ['T√™n Z ‚Üí A', 'name_desc'],
                        ['Gi√° tƒÉng d·∫ßn', 'price_asc'],
                        ['Gi√° gi·∫£m d·∫ßn', 'price_desc']
                    ], params[:sort]),
                    {}, class: "form-select dark-input" %>

            <%= f.submit "L·ªçc", class: "btn btn-primary btn-anim" %>
            <% end %>
        </div>
    </div>

    <!-- Turbo Frame List -->
    <%= turbo_frame_tag "food_drinks_list" do %>
    <%= form_with url: bulk_delete_admin_food_drinks_path,
                  method: :delete,
                  local: false,
                  data: { turbo_confirm: "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a c√°c m√≥n ƒë√£ ch·ªçn?" } do %>

    <div class="food-drinks-table table-responsive mb-3">
        <%= render partial: "list", locals: { food_drinks: @food_drinks } %>
    </div>

    <%= submit_tag "X√≥a c√°c m√≥n ƒë√£ ch·ªçn", class: "btn btn-danger btn-anim" %>

    <% end %>

    <% if @food_drinks.empty? %>
    <p class="text-center text-muted mt-3">Kh√¥ng t√¨m th·∫•y m√≥n ƒÉn/th·ª©c u·ªëng n√†o ph√π h·ª£p.</p>
    <% end %>
    <% end %>

</div>


<style>
    /* ===============================
   GLOBAL DARK MODE
=============================== */
    body {
        background: #0d0d0d !important;
        color: #e6e6e6 !important;
    }

    /* ===============================
   CARD
=============================== */
    .dark-panel {
        background: #1a1a1a !important;
        border: 1px solid #2d2d2d !important;
        border-radius: 18px;
        transition: 0.3s;
    }

    .dark-panel:hover {
        transform: translateY(-2px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.45);
    }

    /* TITLE */
    .title-text {
        color: #ffffff !important;
    }

    /* ===============================
   BUTTON
=============================== */
    .btn-anim,
    .btn-cat {
        transition: 0.25s ease;
    }

    .btn-anim:hover,
    .btn-cat:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 255, 255, 0.15);
    }

    .btn-cat {
        border-radius: 8px !important;
    }

    /* ===============================
   INPUT DARK
=============================== */
    .dark-input {
        background: #222 !important;
        color: #fff !important;
        border: 1px solid #333 !important;
    }

    .dark-input:focus {
        background: #222 !important;
        box-shadow: 0 0 6px rgba(0, 140, 255, 0.6);
        border-color: #0d6efd !important;
    }

    /* ===============================
   TABLE DARK
=============================== */
    .food-drinks-table table {
        background: #1a1a1a !important;
        color: #e6e6e6 !important;
    }

    .food-drinks-table table thead {
        background: #111 !important;
    }

    .food-drinks-table table td,
    .food-drinks-table table th {
        border-color: #333 !important;
    }

    .food-drinks-table tbody tr:hover {
        background: #262626 !important;
        transform: translateX(2px);
    }

    /* ===============================
   FADE-IN ANIMATION
=============================== */
    .animate-fade-in {
        animation: fadeIn 0.5s ease forwards;
        opacity: 0;
    }

    /* ===============================
   FORCE DARK TABLE ‚Äî FIX CU·ªêI
=============================== */

    /* bu·ªôc m·ªçi table trong card th√†nh m√†u ƒëen */
    .fooddinks-card table,
    .fooddinks-card .table {
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
        border-color: #333 !important;
    }

    /* header ƒëen */
    .fooddinks-card table thead,
    .fooddinks-card table thead th {
        background-color: #111 !important;
        color: #fff !important;
        border-color: #333 !important;
    }

    /* t·ª´ng √¥ */
    .fooddinks-card table td,
    .fooddinks-card table th {
        background-color: #1a1a1a !important;
        color: #e6e6e6 !important;
        border-color: #333 !important;
    }

    /* hover */
    .fooddinks-card table tbody tr:hover {
        background-color: #262626 !important;
    }

    /* x√≥a vi·ªÅn tr·∫Øng table-responsive */
    .fooddinks-card .table-responsive {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
    }


    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>