<!-- Header -->
<div class="mb-4 d-flex flex-column flex-md-row justify-content-between align-items-center text-light">
    <%= link_to "Quay l·∫°i", food_drinks_path, class: "btn btn-outline-light mb-2 mb-md-0" %>
    <h1 class="text-center flex-grow-1 mb-0">Danh s√°ch g√≥p √Ω</h1>
</div>

<!-- Card ch·ª©a table -->
<div class="card shadow suggestions-card bg-dark text-light">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-dark table-hover table-bordered mb-0 align-middle text-center">
                <thead>
                    <tr>
                        <th class="col-index">#</th>
                        <th class="col-title">T√™n m√≥n / th·ª©c u·ªëng</th>
                        <th class="col-content">N·ªôi dung g√≥p √Ω</th>
                        <th class="col-status">Tr·∫°ng th√°i</th>
                        <th class="col-date">Ng√†y g·ª≠i</th>
                        <th class="col-actions">H√†nh ƒë·ªông</th>
                    </tr>
                </thead>
                <tbody>
                    <% if @suggestions.any? %>
                    <% @suggestions.each_with_index do |s, index| %>
                    <tr>
                        <th scope="row"><%= index + 1 %></th>
                        <td class="text-start"><%= s.title %></td>
                        <td class="text-start"><%= truncate(s.content, length: 80) %></td>
                        <td>
                            <% status_class, status_text = case s.status
                        when "pending" then ["badge bg-warning text-dark", "ƒêang ch·ªù"]
                        when "approved" then ["badge bg-success", "ƒê√£ x√°c nh·∫≠n"]
                        when "rejected" then ["badge bg-secondary", "ƒê√£ t·ª´ ch·ªëi"]
                        else ["badge bg-secondary", "Kh√¥ng x√°c ƒë·ªãnh"]
                    end %>
                            <span class="<%= status_class %>"><%= status_text %></span>
                        </td>
                        <td><%= s.created_at.strftime("%d/%m/%Y %H:%M") %></td>
                        <td class="col-actions">
                            <div class="d-flex justify-content-center flex-wrap gap-1">
                                <%= link_to suggestion_path(s), class: "btn btn-sm btn-outline-info" do %>
                                <i class="bi bi-eye"></i> Xem
                                <% end %>
                                <% if s.status == "pending" %>
                                <%= link_to edit_suggestion_path(s), class: "btn btn-sm btn-outline-warning" do %>
                                <i class="bi bi-pencil"></i> S·ª≠a
                                <% end %>
                                <% end %>
                                <%= link_to suggestion_path(s), data: { turbo_method: :delete, turbo_confirm: "B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a g√≥p √Ω n√†y?" }, class: "btn btn-sm btn-outline-danger" do %>
                                <i class="bi bi-trash"></i> X√≥a
                                <% end %>
                            </div>
                        </td>
                    </tr>
                    <% end %>
                    <% else %>
                    <tr>
                        <td colspan="6" class="text-center py-3">B·∫°n ch∆∞a g·ª≠i g√≥p √Ω n√†o.</td>
                    </tr>
                    <% end %>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Custom CSS Dark Mode -->
<style>
    /* Card */
    .suggestions-card {
        border: none;
        border-radius: 0.75rem;
        background-color: #121212 !important;
        /* N·ªÅn card t·ªëi */
    }

    /* Table */
    .suggestions-table {
        margin: 0;
        background-color: #121212 !important;
        /* N·ªÅn table t·ªëi */
        color: #eee !important;
        border-collapse: collapse;
        width: 100%;
    }

    /* Header table */
    .suggestions-table thead {
        background-color: #1f1f1f !important;
        color: #fff !important;
    }

    /* Body table */
    .suggestions-table tbody tr {
        background-color: #181818 !important;
        color: #eee;
    }

    /* Stripe h√†ng */
    .suggestions-table tbody tr:nth-child(odd) {
        background-color: #1f1f1f !important;
    }

    /* Hover */
    .suggestions-table tbody tr:hover {
        background-color: #333 !important;
    }

    /* Border gi·ªØa c√°c √¥ */
    .suggestions-table th,
    .suggestions-table td {
        border: 1px solid #444 !important;
        padding: 0.75rem 0.5rem;
        vertical-align: middle;
    }

    /* Badge */
    .badge {
        font-weight: 500;
        padding: 0.4em 0.6em;
    }

    /* Button outline */
    .btn-outline-info,
    .btn-outline-warning,
    .btn-outline-danger {
        border-width: 1px;
        font-size: 0.85rem;
    }

    /* Text align */
    .text-start {
        text-align: left;
    }

    .col-actions {
        min-width: 130px;
    }

    /* ============================================
   üìå FIX VI·ªÄN TR·∫ÆNG QUANH B·∫¢NG (ƒëo·∫°n c·∫ßn th√™m)
   ============================================ */
    .table,
    .table-bordered,
    .table-bordered> :not(caption)>*>* {
        border-color: #333 !important;
    }

    .table {
        background: #1a1a1a !important;
        border: 2px solid #222 !important;
        /* XO√Å vi·ªÅn tr·∫Øng */
    }

    .table td,
    .table th {
        background: #1a1a1a !important;
        color: #e6e6e6 !important;
    }

    /* Ph·∫ßn bao b·∫£ng (table-responsive) */
    .table-responsive {
        background: transparent !important;
        border: none !important;
    }

    .table-responsive .table {
        border-radius: 0 !important;
    }
</style>