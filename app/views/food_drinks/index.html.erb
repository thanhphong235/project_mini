<h1>Danh sách Món ăn & Thức uống</h1>

<!-- Filter / Phân loại -->
<div class="mb-4 d-flex flex-wrap gap-2">
    <!-- Nút xem tất cả -->
    <%= link_to "Tất cả", food_drinks_path, class: "btn btn-sm btn-outline-dark" %>

    <!-- Lọc theo danh mục -->
    <% Category.all.each do |cat| %>
    <%= link_to cat.name, food_drinks_path(category_id: cat.id), class: "btn btn-sm btn-outline-primary" %>
    <% end %>
</div>

<div class="row">
    <% @food_drinks.each do |fd| %>
    <div class="col-md-4 mb-3">
        <div class="card shadow-sm">
            <% if fd.image.attached? %>
            <%= image_tag fd.image, class: "card-img-top" %>
            <% else %>
            <%
=begin%>
            <%= image_tag "placeholder.png", class: "card-img-top" %>
            <%
=end%>
            <% end %>
            <div class="card-body">
                <h5 class="card-title"><%= link_to fd.name, food_drink_path(fd) %></h5>
                <p class="card-text"><strong>Giá:</strong> <%= number_to_currency(fd.price, unit: "₫") %></p>
                <p class="card-text"><strong>Danh mục:</strong> <%= fd.category&.name || "Không có" %></p>
                <div class="d-flex gap-1">
                    <%= link_to "Xem chi tiết", food_drink_path(fd), class: "btn btn-sm btn-outline-primary" %>
                    <%= button_to "Thêm vào giỏ", cart_items_path, 
                                                method: :post, 
                                                params: { food_drink_id: fd.id }, 
                                                class: "btn btn-sm btn-outline-success",
                                                form: { data: { turbo: true } } %>

                </div>
            </div>
        </div>
    </div>
    <% end %>
</div>